# common variables
url='https://github.com/brisvag/arch'
arch=('any')

# autogenerated variables
pkgname="brisvag-${name}"
pkgver() {printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"}
pkgrel=${pkgver}
# backslash (and later eval) are necessary because pkgdir is not defined until later
home="\${pkgdir}${HOME}"
rootdir=${PWD}

# use X.txt and X.install (if they exist) for deps an hooks
if [[ -f "${name}.txt" ]]; then
  # grep to ignore comments
  depends=($(grep -v "^#" "${name}.txt"))
fi

if [[ -f "${name}.install" ]]; then
  install="${name}.install"
fi


# copy config files and directories to the right places
#install_="install -D -o brisvag -g brisvag --verbose --backup --compare -m644"
#installX="install -D -o brisvag -g brisvag --verbose --backup --compare -m750"
#installD="install -d -o brisvag -g brisvag --verbose --backup --compare"

package() {
  # package dotfiles
  local home=$(eval echo "${home}")
  mkdir -p "${home}"
  cp -a "${rootdir}"/dotfiles "${home}"

  return 0
}
